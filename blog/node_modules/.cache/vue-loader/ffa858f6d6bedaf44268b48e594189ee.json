{"remainingRequest":"C:\\Users\\dell\\Desktop\\新建文件夹 (2)\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dell\\Desktop\\新建文件夹 (2)\\blog\\src\\components\\Comment\\Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\dell\\Desktop\\新建文件夹 (2)\\blog\\src\\components\\Comment\\Comment.vue","mtime":1577669730760},{"path":"C:\\Users\\dell\\Desktop\\新建文件夹 (2)\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dell\\Desktop\\新建文件夹 (2)\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\dell\\Desktop\\新建文件夹 (2)\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dell\\Desktop\\新建文件夹 (2)\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import {ArticleComment,OtherComment,setArticleComment,setOuthComment} from \"../../utils/serve.js\"\n\t\n\timport appdata from \"../../static/emot.json\"; \n    export default {\n        data() { //选项 / 数据\n            return {\n                respondBox:'',//评论表单\n                listDom:'',//评论列表\n                tmsgBox:'',//总评论盒子\n                isRespond:false,\n                textarea: '',//文本框输入内容\n                pBody:true,//表情打开控制\n                commentList:'',//评论列表数据\n                pageId:0,//当前第几页\n                aid:0,//文章id\n                hasMore:true,\n                haslogin:false,\n                userId:'',//用户id\n                leaveId:0,//回复评论的当前的commentId\n                leavePid:'',//赞赏等其他模块的分类id\n                pid:'',//回复评论的一级commentId\n                sendTip:'发送~',\n                OwOlist:appdata\n            }\n        },\n        methods: { //事件处理器\n          //选择表情包\n          choseEmoji:function(inner){\n              this.textarea +='[' + inner + ']';\n          },\n\t\t  \n\t\t  getImgUrl(icon){\n\t\t     return require(\"@/static/emot/\"+icon);\n\t\t  },\n          analyzeEmoji:function(cont){//编译表情替换成图片展示出来\n              var pattern1 = /\\[[\\u4e00-\\u9fa5]+\\]/g;\n                var pattern2 = /\\[[\\u4e00-\\u9fa5]+\\]/;\n                var content = cont.match(pattern1);\n                var str = cont;\n                if(content){\n                    for(var i=0;i<content.length;i++){\n                        for(var j=0;j<this.OwOlist.length;j++){\n                            if(\"[\"+this.OwOlist[j].title +\"]\" == content[i]){\n                                var src = this.OwOlist[j].url;\n                                break;\n                            }\n                        }\n                        str = str.replace(pattern2,'<img src=\"static/emot/'+src+'\"/>');\n                    }\n                    // console.log(str);\n                }\n                return str;\n          },\n          //发送留言\n          sendMsg:function(){//留言\n              var that = this;\n              if(that.textarea){\n                  that.sendTip = '咻~~';\n                  if(that.leaveId==0){\n                    //   console.log(that.textarea,that.userId,that.aid,that.leavePid,that.pid);\n                      setArticleComment(that.textarea,that.userId,that.aid,that.leavePid,that.pid,function(msg){\n                        //   console.log(msg);\n                          that.textarea = '';\n                          that.routeChange();\n                          that.removeRespond();\n                          var timer02 = setTimeout(function(){\n                              that.sendTip = '发送~';\n                              clearTimeout(timer02);\n                          },1000)\n                      })\n                  }else{\n                      //其他模块留言回复\n                      setOuthComment(that.textarea,that.userId,that.aid,that.leaveId,that.leavePid,that.pid,function(msg){\n                        //   console.log(msg);\n                          that.textarea = '';\n                          that.removeRespond();\n                        that.routeChange();\n                      })\n                  }\n              }else{\n                  that.sendTip = '内容不能为空~'\n                  var timer = setTimeout(function(){\n                      that.sendTip = '发送~';\n                      clearTimeout(timer);\n                  },3000)\n              }\n          },\n          respondMsg:function(leavePid,pid){//回复留言\n              // console.log(leavePid,pid);\n              var that = this;\n              if(localStorage.getItem('userInfo')){\n                  var dom = event.currentTarget;\n                  dom = dom.parentNode;\n                  this.isRespond = true;\n                  this.leavePid = leavePid;\n                  this.pid = pid;\n                  dom.appendChild(this.$refs.respondBox);\n              }else{\n                  that.$confirm('登录后即可点赞和收藏，是否前往登录页面?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                    }).then(() => {//确定，跳转至登录页面\n                        //储存当前页面路径，登录成功后跳回来\n                        localStorage.setItem('logUrl',that.$route.fullPath);\n                        that.$router.push({path:'/Login?login=1'});\n                   }).catch(() => {\n                   });\n              }\n          },\n          removeRespond:function(){//取消回复留言\n              this.isRespond = false;\n              this.$refs.tmsgBox.insertBefore(this.$refs.respondBox,this.$refs.listDom);\n          },\n          showCommentList: function(initData){//评论列表\n              var that = this;\n              that.aid = that.$route.query.aid==undefined?1:parseInt(that.$route.query.aid);//获取传参的aid\n              //判断当前用户是否登录\n              if(localStorage.getItem('userInfo')){\n                  that.haslogin = true;\n                  that.userInfo = JSON.parse(localStorage.getItem('userInfo'));\n                  that.userId = that.userInfo.userId;\n                //   console.log(that.userInfo);\n              }else{\n                  that.haslogin = false;\n              }\n              //是否重新加载数据 还是累计加载\n              that.pageId = initData ? 0 : that.pageId;\n              //公用设置数据方法\n              function setData(result){\n                  if(result.code==1001){//查询数据\n                      var msg = result.data;\n                    //   console.log(\"留言数据\",result.data);\n                      if(msg.length>0&&msg.length<8){\n                          that.hasMore = false\n                      }else{\n                          that.hasMore = true;\n                      }\n                      that.commentList = initData ? msg : that.commentList.concat(msg);\n                      that.pageId = msg[msg.length-1].comment_id;\n                  }else{//查询数据为空\n                      that.hasMore = false;\n                      that.commentList = initData ? [] : that.commentList\n                  }\n              }\n              if(that.$route.name=='DetailShare'){//文章列表的评论\n                  that.leaveId = 0;\n                  ArticleComment(that.aid,that.pageId,function(result){//查询列表\n                        setData(result);\n                  })\n              }else{//其他评论\n                  if(that.$route.name == 'Reward'){//（1：赞赏 2：友情链接 3：留言板 4：关于我）\n                      that.leaveId = 1\n                  }else if(that.$route.name == 'FriendsLink'){\n                      that.leaveId = 2\n                  }else if(that.$route.name == 'Message'){\n                      that.leaveId = 3\n                  }else if(that.$route.name == 'Aboutme'){\n                      that.leaveId = 4\n                  }\n                  OtherComment(that.leaveId,that.pageId,function(result){\n                      setData(result);\n                  })\n              }\n          },\n          addMoreFun:function(){//查看更多\n              this.showCommentList(false);\n          },\n          routeChange:function(){//重新加载\n              var that = this;\n              this.showCommentList(true);\n          }\n        },\n        components: { //定义组件\n        },\n        watch: {\n           // 如果路由有变化，会再次执行该方法\n           // '$route':'routeChange'\n         },\n        created() { //生命周期函数\n            // console.log(this.$route);\n            var that = this;\n            that.routeChange();\n        },\n        mounted(){//页面加载完成后\n        }\n    }\n",{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/components/Comment","sourcesContent":["<!-- 留言评论模块 -->\n<template>\n    <div class=\"tmsgBox\"  ref=\"tmsgBox\">\n        <div class=\"tmsg-respond\"  ref=\"respondBox\">\n            <form class=\"\"  >\n                <el-input\n                  type=\"textarea\"\n                  :rows=\"2\"\n                  placeholder=\"说点什么呢``\"\n                  v-model=\"textarea\">\n                </el-input>\n                <div :class=\"pBody?'OwO':'OwO OwO-open'\">\n                    <div class=\"OwO-logo\" @click=\"pBody=!pBody\">\n                        <span>OwO表情</span>\n                    </div>\r\n\t\t\t\t\t<el-row class=\"tmsg-r-info\">\r\n\t\t\t\t\t    <el-col :span=\"24\" class=\"info-submit\">\r\n\t\t\t\t\t        <p class=\"tcolors-bg sendMessage\" @click=\"sendMsg\">{{sendTip}}</p>\r\n\t\t\t\t\t    </el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\n                    <div class=\"OwO-body\">\n                        <ul class=\"OwO-items OwO-items-show\">\n                            <li class=\"OwO-item\" v-for=\"(oitem,index) in OwOlist\" :key=\"'oitem'+index\" @click=\"choseEmoji(oitem.title)\">\n                              <!--  <img :src=\"'../../static/emot/'+oitem.url\" alt=\"\"> -->\r\n\t\t\t\t\t\t\t\t<img :src=\"getImgUrl(oitem.url) \" />\r\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                \n            </form>\n        </div>\n        <div class=\"tmsg-comments\"  ref=\"listDom\">\n            <a href=\"#\" class=\"tmsg-comments-tip\">活捉 {{commentList?commentList.length:0}} 条</a>\n            <div class=\"tmsg-commentshow\">\n                <ul class=\"tmsg-commentlist\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\n                    <!-- <li class=\"tmsg-c-item\" v-for=\"(item,index) in commentList\" :key=\"'common'+index\"> \r\n\t\t\t\t\t\t\n                        <article class=\"\">\n                            <header>\n                                <img  :src=\"item.avatar\"  :onerror=\"$store.state.errorImg\">\n                                <div class=\"i-name\">\n                                    {{item.username}}\n                                </div>\n                                <div class=\"i-class\">\n                                    {{item.label}}\n                                </div>\n                                <div class=\"i-time\">\n                                    <time>{{item.time}}</time>\n                                </div>\n                            </header>\n                            <section>\n                                <p v-html=\"analyzeEmoji(item.content)\">{{analyzeEmoji(item.content)}}</p>\n                                <div v-if=\"haslogin\" class=\"tmsg-replay\" @click=\"respondMsg(item.comment_id,item.comment_id)\">\n                                    回复\n                                </div>\n                            </section>\n                        </article>\n                        <ul v-show=\"item.ChildsSon\" class=\"tmsg-commentlist\" style=\"padding-left:60px;\">\n                            <li class=\"tmsg-c-item\" v-for=\"(citem,cindex) in item.ChildsSon\" :key=\"'citem'+cindex\">\n                                <article class=\"\">\n                                    <header>\n                                            <img :src=\"citem.avatar\"  :onerror=\"$store.state.errorImg\">\n                                            <div class=\"i-name\">\n                                                {{citem.username}} <span>回复</span> {{citem.reply_name}}\n                                            </div>\n                                            <div class=\"i-class\">\n                                                {{citem.label}}\n                                            </div>\n                                            <div class=\"i-time\">\n                                                <time>{{citem.time}}</time>\n                                            </div>\n                                    </header>\n                                    <section>\n                                        <p v-html=\"analyzeEmoji(citem.content)\">{{citem.content}}</p>\n                                        <div v-show=\"haslogin\" class=\"tmsg-replay\" @click=\"respondMsg(citem.comment_id,item.comment_id)\">\n                                            回复\n                                        </div>\n                                    </section>\n                                </article>\n                            </li>\n                        </ul>\n                    </li> -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<li class=\"tmsg-c-item\" >\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t    <article class=\"\">\r\n\t\t\t\t\t        <header>\r\n\t\t\t\t\t\t\t\t<img src=\"../../images/QQ截图20191225180154.png\" />\r\n\t\t\t\t\t         <!--   <img  :src=\"item.avatar\"  :onerror=\"$store.state.errorImg\"> -->\r\n\t\t\t\t\t            <div class=\"i-name\">\r\n\t\t\t\t\t             dfdf  \r\n\t\t\t\t\t            </div>\r\n\t\t\t\t\t\t\t\t<div class=\"i-class i-class1\">\r\n\t\t\t\t\t\t\t\t查看回复   \r\n\t\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t\t<div class=\"i-class i-class0\">\r\n\t\t\t\t\t\t\t\t举报   \r\n\t\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t            <div class=\"i-time\">\r\n\t\t\t\t\t                <time>09点07分</time>\r\n\t\t\t\t\t            </div>\r\n\t\t\t\t\t        </header>\r\n\t\t\t\t\t        <section>\r\n\t\t\t\t\t            <p >fgsdfg</p>\r\n\t\t\t\t\t            <div  class=\"tmsg-replay\" >\r\n\t\t\t\t\t                回复\r\n\t\t\t\t\t            </div>\r\n\t\t\t\t\t        </section>\r\n\t\t\t\t\t    </article>\r\n\t\t\t\t\t    <ul class=\"tmsg-commentlist\" style=\"padding-left:60px;\">\r\n\t\t\t\t\t      <!--  <li class=\"tmsg-c-item\" v-for=\"(citem,cindex) in item.ChildsSon\" :key=\"'citem'+cindex\"> -->\r\n\t\t\t\t\t\t  <li class=\"tmsg-c-item\" >\r\n\t\t\t\t\t            <article class=\"\">\r\n\t\t\t\t\t                <header>\r\n\t\t\t\t\t                       <img src=\"../../images/QQ截图20191225180154.png\" />\r\n\t\t\t\t\t                        <div class=\"i-name\">\r\n\t\t\t\t\t                           地方 <span>回复</span>地方\r\n\t\t\t\t\t                        </div>\r\n\t\t\t\t\t                        <div class=\"i-class\">\r\n\t\t\t\t\t                           地方\r\n\t\t\t\t\t                        </div>\r\n\t\t\t\t\t                        <div class=\"i-time\">\r\n\t\t\t\t\t                            <time>shiji</time>\r\n\t\t\t\t\t                        </div>\r\n\t\t\t\t\t                </header>\r\n\t\t\t\t\t                <section>\r\n\t\t\t\t\t                    <p >dfdf </p>\r\n\t\t\t\t\t                    <div class=\"tmsg-replay\">\r\n\t\t\t\t\t                        回复\r\n\t\t\t\t\t                    </div>\r\n\t\t\t\t\t                </section>\r\n\t\t\t\t\t            </article>\r\n\t\t\t\t\t        </li>\r\n\t\t\t\t\t    </ul>\r\n\t\t\t\t\t</li>\n\n                </ul>\n                <h1 v-show='hasMore' class=\"tcolors-bg\" @click=\"addMoreFun\" >查看更多</h1>\n                <h1 v-show='!hasMore' class=\"tcolors-bg\" >没有更多</h1>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {ArticleComment,OtherComment,setArticleComment,setOuthComment} from \"../../utils/serve.js\"\r\n\t\r\n\timport appdata from \"../../static/emot.json\"; \r\n    export default {\n        data() { //选项 / 数据\n            return {\n                respondBox:'',//评论表单\n                listDom:'',//评论列表\n                tmsgBox:'',//总评论盒子\n                isRespond:false,\n                textarea: '',//文本框输入内容\n                pBody:true,//表情打开控制\n                commentList:'',//评论列表数据\n                pageId:0,//当前第几页\n                aid:0,//文章id\n                hasMore:true,\n                haslogin:false,\n                userId:'',//用户id\n                leaveId:0,//回复评论的当前的commentId\n                leavePid:'',//赞赏等其他模块的分类id\n                pid:'',//回复评论的一级commentId\n                sendTip:'发送~',\n                OwOlist:appdata\n            }\n        },\r\n        methods: { //事件处理器\n          //选择表情包\n          choseEmoji:function(inner){\n              this.textarea +='[' + inner + ']';\n          },\r\n\t\t  \r\n\t\t  getImgUrl(icon){\r\n\t\t     return require(\"@/static/emot/\"+icon);\r\n\t\t  },\n          analyzeEmoji:function(cont){//编译表情替换成图片展示出来\n              var pattern1 = /\\[[\\u4e00-\\u9fa5]+\\]/g;\n                var pattern2 = /\\[[\\u4e00-\\u9fa5]+\\]/;\n                var content = cont.match(pattern1);\n                var str = cont;\n                if(content){\n                    for(var i=0;i<content.length;i++){\n                        for(var j=0;j<this.OwOlist.length;j++){\n                            if(\"[\"+this.OwOlist[j].title +\"]\" == content[i]){\n                                var src = this.OwOlist[j].url;\n                                break;\n                            }\n                        }\n                        str = str.replace(pattern2,'<img src=\"static/emot/'+src+'\"/>');\n                    }\n                    // console.log(str);\n                }\n                return str;\n          },\n          //发送留言\n          sendMsg:function(){//留言\n              var that = this;\n              if(that.textarea){\n                  that.sendTip = '咻~~';\n                  if(that.leaveId==0){\n                    //   console.log(that.textarea,that.userId,that.aid,that.leavePid,that.pid);\n                      setArticleComment(that.textarea,that.userId,that.aid,that.leavePid,that.pid,function(msg){\n                        //   console.log(msg);\n                          that.textarea = '';\n                          that.routeChange();\n                          that.removeRespond();\n                          var timer02 = setTimeout(function(){\n                              that.sendTip = '发送~';\n                              clearTimeout(timer02);\n                          },1000)\n                      })\n                  }else{\n                      //其他模块留言回复\n                      setOuthComment(that.textarea,that.userId,that.aid,that.leaveId,that.leavePid,that.pid,function(msg){\n                        //   console.log(msg);\n                          that.textarea = '';\n                          that.removeRespond();\n                        that.routeChange();\n                      })\n                  }\n              }else{\n                  that.sendTip = '内容不能为空~'\n                  var timer = setTimeout(function(){\n                      that.sendTip = '发送~';\n                      clearTimeout(timer);\n                  },3000)\n              }\n          },\n          respondMsg:function(leavePid,pid){//回复留言\n              // console.log(leavePid,pid);\n              var that = this;\n              if(localStorage.getItem('userInfo')){\n                  var dom = event.currentTarget;\n                  dom = dom.parentNode;\n                  this.isRespond = true;\n                  this.leavePid = leavePid;\n                  this.pid = pid;\n                  dom.appendChild(this.$refs.respondBox);\n              }else{\n                  that.$confirm('登录后即可点赞和收藏，是否前往登录页面?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                    }).then(() => {//确定，跳转至登录页面\n                        //储存当前页面路径，登录成功后跳回来\n                        localStorage.setItem('logUrl',that.$route.fullPath);\n                        that.$router.push({path:'/Login?login=1'});\n                   }).catch(() => {\n                   });\n              }\n          },\n          removeRespond:function(){//取消回复留言\n              this.isRespond = false;\n              this.$refs.tmsgBox.insertBefore(this.$refs.respondBox,this.$refs.listDom);\n          },\n          showCommentList: function(initData){//评论列表\n              var that = this;\n              that.aid = that.$route.query.aid==undefined?1:parseInt(that.$route.query.aid);//获取传参的aid\n              //判断当前用户是否登录\n              if(localStorage.getItem('userInfo')){\n                  that.haslogin = true;\n                  that.userInfo = JSON.parse(localStorage.getItem('userInfo'));\n                  that.userId = that.userInfo.userId;\n                //   console.log(that.userInfo);\n              }else{\n                  that.haslogin = false;\n              }\n              //是否重新加载数据 还是累计加载\n              that.pageId = initData ? 0 : that.pageId;\n              //公用设置数据方法\n              function setData(result){\n                  if(result.code==1001){//查询数据\n                      var msg = result.data;\n                    //   console.log(\"留言数据\",result.data);\n                      if(msg.length>0&&msg.length<8){\n                          that.hasMore = false\n                      }else{\n                          that.hasMore = true;\n                      }\n                      that.commentList = initData ? msg : that.commentList.concat(msg);\n                      that.pageId = msg[msg.length-1].comment_id;\n                  }else{//查询数据为空\n                      that.hasMore = false;\n                      that.commentList = initData ? [] : that.commentList\n                  }\n              }\n              if(that.$route.name=='DetailShare'){//文章列表的评论\n                  that.leaveId = 0;\n                  ArticleComment(that.aid,that.pageId,function(result){//查询列表\n                        setData(result);\n                  })\n              }else{//其他评论\n                  if(that.$route.name == 'Reward'){//（1：赞赏 2：友情链接 3：留言板 4：关于我）\n                      that.leaveId = 1\n                  }else if(that.$route.name == 'FriendsLink'){\n                      that.leaveId = 2\n                  }else if(that.$route.name == 'Message'){\n                      that.leaveId = 3\n                  }else if(that.$route.name == 'Aboutme'){\n                      that.leaveId = 4\n                  }\n                  OtherComment(that.leaveId,that.pageId,function(result){\n                      setData(result);\n                  })\n              }\n          },\n          addMoreFun:function(){//查看更多\n              this.showCommentList(false);\n          },\n          routeChange:function(){//重新加载\n              var that = this;\n              this.showCommentList(true);\n          }\n        },\n        components: { //定义组件\n        },\n        watch: {\n           // 如果路由有变化，会再次执行该方法\n           // '$route':'routeChange'\n         },\n        created() { //生命周期函数\n            // console.log(this.$route);\n            var that = this;\n            that.routeChange();\n        },\n        mounted(){//页面加载完成后\n        }\n    }\n</script>\n\n<style>\n@import url(\"Cindex.css\");\r\n.OwO{\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n}\r\n.sendMessage{\r\n\twidth: 80px;\r\n}\r\n.tmsg-commentlist{\r\n\tpadding: 0;\r\n}\r\n.i-class0{\r\n\tfloat: right;\r\n\tmargin-top: 5px;\r\n}\r\n.i-class1{\r\n\tfloat: right;\r\n\tmargin-top: 5px;\r\n}\r\n</style>"]}]}